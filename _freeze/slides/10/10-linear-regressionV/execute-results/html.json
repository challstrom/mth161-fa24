{
  "hash": "4ef431d3b75ea5593baadd2b1d235e5b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Linear Regression, Part 2\nsubtitle: Chp 7\nformat: \n  revealjs\n   \nauto-stretch: false\n---\n\n::: {.cell}\n\n:::\n\n\n## In groups\n\n-   Practice from last time: \\S 7.5 (21, 30, 31)\n\\\n\n## A note on $r$, the correlation coefficient\n\nThe correlation coefficient, $r$, makes sense *only* when a linear model is appropriate.  Otherwise, it is *not* really telling us about strength of association.\n\n![](10images/datasauRus_slide.png){fig-align=\"center\" width=\"400\"}\n\n\n## Recap: finding the least squares linear regression\n\nThe least squares **regression line** for a data set with *explanatory* variable *x* and *response* variable *y* is given by\n$$ \\hat{y} = b_0 + b_1 \\cdot \\hat{x} $$\nwhere the **slope** is $$ b_1 = r \\left( \\frac{s_y}{s_x} \\right) $$\n\nand where the **intercept** is found by inputting the two means $(\\bar{x}, \\bar{y})$ into the equation and solving for $b_0$.\n\n\n\n## Example: `Possum` regression line\n\n::::{.columns}\n\n:::{.column width=\"28%\"}\n$$\ny = 41.2 + 1.24 x\n$$\n:::\n\n:::{.column width=\"70%\"}\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](10-linear-regressionV_files/figure-revealjs/unnamed-chunk-2-1.png){width=90%}\n:::\n:::\n\n:::\n\n::::\n\n- What does the slope (1.24) tell us in the context of the possums?\n\n\n## Example: `Possum` regression line\n\nWe can also find the entire linear model in one go (after loading the `tidymodels` library):\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidymodels)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching packages ──────────────────────────────────────────────── tidymodels 1.2.0 ──\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n✔ broom        1.0.6      ✔ rsample      1.2.1 \n✔ dials        1.2.1      ✔ tune         1.2.1 \n✔ infer        1.0.7      ✔ workflows    1.1.4 \n✔ modeldata    1.3.0      ✔ workflowsets 1.1.0 \n✔ parsnip      1.2.1      ✔ yardstick    1.3.1 \n✔ recipes      1.0.10     \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Conflicts ─────────────────────────────────────────────────── tidymodels_conflicts() ──\n✖ scales::discard() masks purrr::discard()\n✖ dplyr::filter()   masks stats::filter()\n✖ recipes::fixed()  masks stringr::fixed()\n✖ dplyr::lag()      masks stats::lag()\n✖ yardstick::spec() masks readr::spec()\n✖ recipes::step()   masks stats::step()\n• Dig deeper into tidy modeling with R at https://www.tmwr.org\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n model_fit <- linear_reg() |>\n      fit(total_l ~ tail_l, data = possum)\n \ntidy(model_fit)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 5\n  term        estimate std.error statistic  p.value\n  <chr>          <dbl>     <dbl>     <dbl>    <dbl>\n1 (Intercept)    41.0      6.66       6.16 1.43e- 8\n2 tail_l          1.24     0.180      6.93 3.94e-10\n```\n\n\n:::\n:::\n\n\n\n\n## Cricket Chirps and Temperature\n\nDo cricket chirp rates and air temperature seem to be associated?\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 15 Columns: 2\n── Column specification ──────────────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl (2): temp_F, chirps_in_15s\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](10-linear-regressionV_files/figure-revealjs/unnamed-chunk-5-1.png){width=80%}\n:::\n:::\n\n\n\n## Cricket Chirps and Temperature\n\nHere are the summary statistics for cricket chirps.  \n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 6\n      N mean_x  sd_x mean_y  sd_y     r\n  <int>  <dbl> <dbl>  <dbl> <dbl> <dbl>\n1    15   80.1  6.72   16.6  1.72 0.825\n```\n\n\n:::\n:::\n\n\\\n\nFind the linear regression model for these data: $\\hat{y} = b_0 + b_1\\hat{x}$.\n\n## Cricket Chirps and Temperature\n::::{.columns}\n\n:::{.column width=\"28%\"}\n$\\hat{y} = 0.211 \\hat{x} - 0.314$\n:::\n\n:::{.column width=\"70%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](10-linear-regressionV_files/figure-revealjs/unnamed-chunk-7-1.png){width=75%}\n:::\n:::\n\n:::\n\n::::\n\n- How many chirps (per 15 sec) would you predict when it's $74^\\circ F$ out?\n- If you measure 76 chirps in a minute, what is the temperature likely to be?\n\n\n\n## Extrapolation\n\n\n::::{.columns}\n\n:::{.column width=\"28%\"}\n$\\hat{y} = 0.211 \\hat{x} - 0.314$\n:::\n\n:::{.column width=\"70%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](10-linear-regressionV_files/figure-revealjs/unnamed-chunk-8-1.png){width=90%}\n:::\n:::\n\n:::\n\n::::\nAccording to this linear model, how many chirps (per 15 sec) are predicted when the temperature is $0^\\circ F$?\n\n\n## Residuals\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](10-linear-regressionV_files/figure-revealjs/unnamed-chunk-9-1.png){width=80%}\n:::\n:::\n\n\n## Cricket residuals\n\n::::{.columns}\n\n:::{.column width=\"50%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](10-linear-regressionV_files/figure-revealjs/unnamed-chunk-10-1.png){width=960}\n:::\n:::\n\n:::\n\n:::{.column width=\"50%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](10-linear-regressionV_files/figure-revealjs/unnamed-chunk-11-1.png){width=960}\n:::\n:::\n\n:::\n\n:::: \n\n## Residuals and outliers\n\nEach data set has at least one outlier.  How do the outliers affect the slope of the regression line?\n\n![](10images/residuals_outlier.png){fig-align=\"center\" width=\"400\"}\n\n## Strength of fit: $R^2$\n\nThe **coefficient of determination**, $R^2$ (read \"R squared\"), is the amount of variation in the response variable that can be explained by the linear model.  \n\\\n\nDespite the capitalization, $R^2$ just equals $r^2$.\n\n\\\n\n> Example: For cricket chirps, $r=0.825$, so $R^2 = (0.825)^2 = 0.681$.  \n\\\n>This means that $0.681$ or $68.1$% of the variation we see in cricket chirp rates can be explained by the ambient temperature.  What might account for the other $31.9$% of the variation in chirps?\n\n## Practice for next time\n\n\n- $\\S$ 11.5 (1, 3)\n\n\\\n\nNow head to Posit Cloud for AE05 - Fish!\n",
    "supporting": [
      "10-linear-regressionV_files/figure-revealjs"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}