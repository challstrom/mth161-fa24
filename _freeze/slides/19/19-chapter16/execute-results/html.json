{
  "hash": "7ed7089a320608faee968da2199bfe0a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Inference for Single Proportion\nsubtitle: Chapter 16\nauthor: \"\"\nformat: revealjs\nauto-stretch: false\neditor: \n  markdown: \n    wrap: 72\n---\n\n\n\n\n## Looking Ahead\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n### We will take a closer look at [inference methods]{.red} in different contexts:\n\n-   Ch 16: Single Proportion\n-   Ch 17: Two Proportions\n-   Ch 18: Two-way tables (multiple proportions)\n-   Ch 19: Single Mean\n\n## Recall our Hypothesis Testing Framework\n\n\n\n\n::: {.cell}\n<style type=\"text/css\">\n.red {\ncolor: #B8001F;\n}\n</style>\n:::\n\n\n\n\n1.  State the [null]{.red} and the [alternative]{.red} hypotheses\n\n2.  Choose a [sample]{.red}, collect and analyze the data\n\n3.  How [likely]{.red} is it to see data like what we observed, [if the\n    null hypothesis were true]{.red}?\n\n4.  If very unlikely, we [reject]{.red} the null hypothesis. Otherwise,\n    we [cannot reject]{.red}.\n\n## p-value\n\n-   p-value is a [probability]{.red} -- how likely is it to see our\n    observation **if the null hypothesis is true**?\n\n-   Finding the p-value\n\n    -   If conditions for Central Limit Theorem [are met]{.red}, can use\n        a [mathematical model]{.red}, i.e. normal curve - find z-scores,\n        etc.\n    -   If conditions for Central Limit Theorem [are not met]{.red}, use\n        [simulation methods]{.red}, i.e. bootstrapping or randomization\n\n## Mathematical Model\n\n### Needed Conditions\n\nThe sampling distribution $\\hat{p}$ based on a sample size $n$ from a\npopulation with a true proportion $p$ is nearly normal if:\n\n1.  Sample's observations are [independent]{.red} - roughly:\n    observations do not impact another observations\n\n2.  [Success-failure condition]{.red} -- we expect to see at least 10\n    successes and 10 failures.\n\n    -   $np \\geq 10$ and $n(1-p) \\geq 10$\n\n## Standard Error Formula (new)\n\nIf conditions are met then distribution of $\\hat{p}$ is nearly normal\nwith variability given by the standard error\n\n$$\nSE = \\sqrt{ \\frac{p(1- p)}{n}}\n$$ Note we (usually) don't know $p$ (it's the population parameter) so\nwe use our best guess for $p$ intead:\n\n-   For hypothesis testing, use $p_0$ (null hypothesis)\n-   For confidence intervals, use $\\hat{p}$\n\n## Confidence Interval\n\n$$\n\\mbox{point estimate} \\pm z^\\ast * SE\n$$\n\n$z^\\ast * SE$ is the [margin of error]{.red}\n\n$z^\\ast$ is determined by the desired confidence level.\n\n\n\n## Confidence Level\n\n![](images/confidence_levels){width=\"100%\"}\n\n95% confidence level means $z^\\ast = 1.96$\n\n\n\n## Example: confidence interval\n\n::: small\n> In survey of 826 Portland residents, 48.3% of respondents say that\n> homelessness is Portland's greatest challenge.\n:::\n\n-   Are CLT conditions met?\n    -   Are observations independent? Yes - random sample\n    -   Success/failure? Yes\n        -   $np = 3290*0.483 = 1589 \\geq 10$\n        -   $n(1-p) = 3290 * (1 - 0.483) = 1700 \\geq 10$\n\n## Example: confidence interval\n\n::: small\n> In survey of 3290 Portland residents, 48.3% of respondents say that\n> homelessness is Portland's greatest challenge.\n:::\n\n\\\n\nStandard error? \n$$\n    SE = \\sqrt{ \\frac{p(1- p)}{n}} = \\sqrt{ \\frac{ 0.483(1-0.483)}{3290}} = 0.009\n$$\n\n## Example: confidence interval\n\n::: small\n> In survey of 3290 Portland residents, 48.3% of respondents say that\n> homelessness is Portland's greatest challenge.\n:::\n\nWe are 95% confident that the true proportion of Portlanders who agree that homelessness is the city's greatest challenge\n\n$$\n48.3 \\pm 0.9\\%\n$$\n\n## Hypothesis Test for single proportion\n\nZ-score tells us how the sample proportion ($\\hat{p}$) differs from the hypothesized proportion ($p_0$)\n\n$$\nZ = \\frac{ \\hat{p} - p_0}{SE} = \\frac{ \\hat{p} - p_0}{\\sqrt{p_0(1-p_0)/n}}\n$$\n\n## Example\n\n> Supporters of ballot measure that would impose stricter regulations on payday lenders commissioned a survey that asked 826 random voters if they supported such a measure.  The survey found that 51% of respondents said they did support it.  Is there convincing evidence to say that voters support this measure?\n\n## Example:  hypotheses\n\nNull hypothesis:  there is no support \n$$\np_0 = 0.5\n$$\n\nAlternative hypothesis:  there is support\n$$\np_0 \\geq 0.5\n$$\n\n## Example: conditions\n\n+ independent\n+ success/failure\n  - $np = 825*0.5 = 413 \\geq 10$\n  - $n(1-p) = 825*0.5 = 413 \\geq 10$\n  \n## Example: standard error\n\n$$\nSE = \\sqrt{ \\frac{ p_0(1-p_0)}{n}} = \\sqrt{ \\frac{0.5(1-0.5)}{826}} = 0.017\n$$\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](19-chapter16_files/figure-revealjs/unnamed-chunk-3-1.png){width=80%}\n:::\n:::\n\n\n\n\n## Example: Z-score\n\n$$\nZ = \\frac{ \\hat{p} - p_0}{SE}  = \\frac{ 0.51 - 0.50}{0.017} = 0.59\n$$\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](19-chapter16_files/figure-revealjs/unnamed-chunk-4-1.png){width=80%}\n:::\n:::\n\n\n\n\n## Example:  find p-value\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](19-chapter16_files/figure-revealjs/unnamed-chunk-5-1.png){width=60%}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n1 - pnorm(0.59, mean = 0, sd = 1 )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.2775953\n```\n\n\n:::\n:::\n\n\n\nBecause p-value is larger than 0.05, we do not reject $H_0$.  There is [not]{.red} convincing evidence that there is support for this measure.\n\n\n## What if conditions for CLT are not met?\n\n+ Independence?  \n\n  need more advanced methods (beyond scope of our class)\n\n+ Small sample size?  \n\n  Use [simulations]{.red} -- next time!\n\n\n\n\n\n::: {.cell}\n\n:::\n",
    "supporting": [
      "19-chapter16_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}